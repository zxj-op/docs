---
openapi: POST /upload/signed-url
title: Get Upload Signed URL
description: "Generate a pre-signed URL for direct file upload"
---

This endpoint generates a pre-signed URL that allows you to upload files directly to cloud storage.

<Note>
**Pricing:**
- API calls are free
- Storage fee: \$0.001/1GB per day
</Note>

### Code Examples

<CodeGroup>

```javascript fetch
const response = await fetch('/upload/signed-url', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'sk-mai-this_a_test_string_please_use_your_generated_key_during_testing'
  },
  body: JSON.stringify({
    original_filename: 'video.mp4'
  })
});

const data = await response.json();
console.log(data);

// Then upload the file using the signed URL
const formData = new FormData();
formData.append('file', file);

await fetch(data.data.signed_url, {
  method: 'POST',
  body: formData
});
```

```javascript axios
import axios from 'axios';

// Step 1: Get signed URL
const { data } = await axios.post('/upload/signed-url', {
  original_filename: 'video.mp4'
}, {
  headers: {
    'Authorization': 'sk-mai-this_a_test_string_please_use_your_generated_key_during_testing'
  }
});

// Step 2: Upload file using signed URL
const formData = new FormData();
formData.append('file', file);

await axios.post(data.data.signed_url, formData);
```

```python Python
import requests

BASE_URL = "https://mavi-backend.memories.ai/serve/api/v2"
API_KEY = "sk-mai-this_a_test_string_please_use_your_generated_key_during_testing"
HEADERS = {
    "Authorization": f"{API_KEY}"
}

def upload_signed_url(original_filename):
    url = f"{BASE_URL}/upload/signed-url"
    data = {"original_filename": original_filename}
    response = requests.post(url, json=data, headers=HEADERS)
    return response.json()

def upload_by_signed_url(signed_url_info, file_path):
    upload_url = signed_url_info['data']["signed_url"]
    fields = signed_url_info.get("fields", {})
    with open(file_path, "rb") as f:
        files = {"file": (file_path, f)}
        data = fields
        resp = requests.post(upload_url, data=data, files=files)
    return resp.status_code, resp.text

# Usage example
signed_url_info = upload_signed_url("video.mp4")
status, response = upload_by_signed_url(signed_url_info, "path/to/video.mp4")
print(f"Upload status: {status}")
```

</CodeGroup>

### Request Body

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| original_filename | string | Yes | The original filename with extension (e.g., "video.mp4") |

### Response

Returns a signed URL and associated metadata for file upload.

<ResponseExample>
```json
{
  "code": "0000",
  "msg": "success",
  "data": {
    "asset_id": "re_660736410386149376",
    "signed_url": "https://storage.googleapis.com/...",
    "expires_in": 93600
  },
  "success": true,
  "failed": false
}
```
</ResponseExample>

### Response Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| code | string | Response code indicating the result status |
| msg | string | Response message describing the operation result |
| data | object | Response data object containing the signed URL and asset information |
| data.asset_id | string | Unique identifier of the asset that will be created after upload |
| data.signed_url | string | Pre-signed URL for direct file upload to cloud storage |
| data.expires_in | integer | Validity period of the signed URL in seconds |
| success | boolean | Indicates whether the operation was successful |
| failed | boolean | Indicates whether the operation failed |

### Notes

- The signed URL expires after the time specified in `expires_in` (in seconds)
- Upload the file before the URL expires to avoid upload failures
- The `expires_in` value indicates how long the signed URL remains valid from the time it was generated
